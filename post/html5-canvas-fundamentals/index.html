<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    


    
        <meta name="twitter:card" content="summary"/>
    



<meta name="twitter:title" content="HTML5 Canvas. Fundamentals"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@benetisz"/>



  	<meta property="og:title" content="HTML5 Canvas. Fundamentals &middot; Typical personal blog" />
  	<meta property="og:site_name" content="Typical personal blog" />
  	<meta property="og:url" content="https://benetis.me/post/html5-canvas-fundamentals/" />
    
    
        
            <meta property="og:image" content="https://benetis.me/images/blog_cover_optimized_stars.jpg"/>
        
    

    
    <meta property="og:description" content="" />
  	<meta property="og:type" content="article" />
    <meta property="og:image" content="https://benetis.me/" />
    <meta property="article:published_time" content="2017-01-15T00:00:00Z" />

    
    <meta property="article:tag" content="Learning" />
    
    <meta property="article:tag" content="Frontend" />
    
    

    <title>HTML5 Canvas. Fundamentals &middot; Typical personal blog</title>

    
    <meta name="description" content="" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://benetis.me/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://benetis.me/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="https://benetis.me/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://benetis.me/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />

    

    
      
          <link href="https://benetis.me/index.xml" rel="alternate" type="application/rss+xml" title="Typical personal blog" />
      
      
    
    <meta name="generator" content="Hugo 0.19-DEV" />

    <link rel="canonical" href="https://benetis.me/post/html5-canvas-fundamentals/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": ""
    },
    "author": {
        "@type": "Person",
        "name": "",
        
        "url": "https://benetis.me",
        "sameAs": [
            
            
             
             
             
             
             
            
        ]
    },
    "headline": "HTML5 Canvas. Fundamentals",
    "name": "HTML5 Canvas. Fundamentals",
    "wordCount":  482 ,
    "timeRequired": "PT3M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": "en"
    },
    "url": "https://benetis.me/post/html5-canvas-fundamentals/",
    "datePublished": "2017-01-15T00:00Z",
    "dateModified": "2017-01-15T00:00Z",
    
    "keywords": "Learning, Frontend",
    "description": "",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://benetis.me/post/html5-canvas-fundamentals/"
    }
}
    </script>
    


    

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-36419336-4', 'auto');
      ga('send', 'pageview');

    </script>

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/themes/prism.min.css" />

    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
    </ul>
    
    
    <a class="subscribe-button icon-feed" href="https://benetis.me/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
  
      <a class="menu-button icon-feed" href="https://benetis.me/index.xml">&nbsp;&nbsp;Subscribe</a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">HTML5 Canvas. Fundamentals</h1>
        <small></small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2017-01-15T00:00:00Z">
            Jan 15, 2017
          </time>
        
         
          <span class="post-tag small"><a href="https://benetis.me/tags/learning/">#Learning</a></span>
         
          <span class="post-tag small"><a href="https://benetis.me/tags/frontend/">#Frontend</a></span>
         
        </section>
    </header>

    <section class="post-content">
      

<h4 id="introduction">Introduction</h4>

<p>Today I met HTML5 Canvas. Not in real world - but during one the exercises from <a href="https://benetis.me/vanilla-javascript-challenge/">Javascript30</a>. What are those &ldquo;canvas&rdquo;?</p>

<h4 id="basics">Basics</h4>

<p>Canvas is a HTML element used to draw graphics on fly via Javascript - [0].
Main idea is that you have this rectangle box on the page without any content and you use javascript to draw stuff on it. You do drawing by interacting with context object not the actual canvas object. Example below:</p>

<pre><code class="language-javascript">const canvas = document.querySelector('#myCanvas');
const ctx = canvas.getContext('2d');

ctx.moveTo(50,50);
ctx.lineTo(150,100);
ctx.stroke();
</code></pre>

<p>Outputs a simple line. You can check and experiment <a href="http://www.w3schools.com/html/tryit.asp?filename=tryhtml5_canvas_tut_path">here</a></p>

<h5 id="our-task-from-javascript30">Our task from Javascript30</h5>

<p>Create this simple drawing tool where you press mouse keys and it draws different color trail.</p>

<p><img src="https://benetis.me/images/2017/02/giphy.gif" alt="" /></p>

<p>First task - we want to take our canvas element and set its width and height to window size.</p>

<pre><code class="language-html">&lt;canvas id=&quot;draw&quot; width=&quot;800&quot; height=&quot;800&quot;&gt;&lt;/canvas&gt;
</code></pre>

<pre><code class="language-javascript">  const canvas = document.querySelector('#draw')
  const ctx = canvas.getContext('2d')


  canvas.width = window.innerWidth
  canvas.height = window.innerHeight

</code></pre>

<p>Next we want to catch mouse event needed to paint our beautiful rainbow. The thing is - we only want to paint when mouse is clicked.</p>

<pre><code class="language-javascript">  let drawing = false;

  function draw(e) {
      if(drawing) {
          console.log(e);
      }
  }

  canvas.addEventListener('mousemove', draw);
  canvas.addEventListener('mousedown', e =&gt; drawing = true)
  canvas.addEventListener('mouseout', e =&gt; drawing = false)
  canvas.addEventListener('mouseup', e =&gt; drawing = false)
</code></pre>

<p>We add <code>mousemove</code> listener to call draw function on each mouse movement, but we check if <code>drawing</code> variables is true. Variable is to to true when <code>mousedown</code> or <code>mouseout</code> event happens. In draw function we &lsquo;bounce&rsquo; calls if <code>drawing</code> is set to false</p>

<p>Moving on. Drawing the actual line. We need the point FROM and point TO for line to appear. Let&rsquo;s add a new object <code>drawFrom</code> which will hold our point with x and y coordinates where we want our line to being</p>

<pre><code class="language-javascript">    let drawFrom = {x: 0, y: 0}
    function draw(e) {
        if (drawing) {
            ctx.beginPath()
            ctx.moveTo(drawFrom.x, drawFrom.y)
            ctx.lineTo(e.offsetX, e.offsetY)
            ctx.stroke() //drawing wont happen until we call stroke
            drawFrom.x = e.offsetX //we update our point
            drawFrom.y = e.offsetY
        }
    }
</code></pre>

<p>and of course when we click down we need to update our point as well</p>

<pre><code class="language-javascript">    canvas.addEventListener('mousedown', e =&gt; {
        drawing = true
        drawFrom.x = e.offsetX
        drawFrom.y = e.offsetY
    })
</code></pre>

<p>Result:</p>

<p><img src="https://benetis.me/images/2017/02/giphy--1-.gif" alt="" /></p>

<p>Next step - hue rainbows.</p>

<p>After setting canvas size let&rsquo;s include basic styles for our stroke.</p>

<pre><code class="language-javascript">    ctx.lineWidth = 50
    ctx.lineJoin = 'round' //makes our point round
    ctx.lineCap = 'round'
</code></pre>

<p>For hue rainbows - we can use and abuse HSL. More on HSL <a href="https://css-tricks.com/yay-for-hsla/">here</a></p>

<p>Adding this line after <code>ctx.beginPath()</code> will result in drawing gummy bear worms.</p>

<pre><code class="language-javascript">    ctx.strokeStyle = `hsl(${e.offsetX % 360}, 100%, 50%)`
</code></pre>

<p><img src="https://benetis.me/images/2017/02/giphy--2-.gif" alt="" /></p>

<p>If you want - you can adjust width and count hue differently like it is shown in challenge, but IMHO this is enough for understanding the very very basics of HTML5 canvas.</p>

<p>Code is in github - <a href="https://github.com/benetis/JavaScript30/blob/608928a47a6b1c6f54a9fa99118f5a3f6f605bdf/08%20-%20Fun%20with%20HTML5%20Canvas/index-START.html">here</a></p>

<p>[0] - <a href="http://www.w3schools.com/html/html5_canvas.asp">http://www.w3schools.com/html/html5_canvas.asp</a></p>

<h3 id="feedback">Feedback</h3>

<p>If you have any suggestions - I am eagerly waiting for feedback. <a href="https://benetis.me/post/contact-me/">https://benetis.me/post/contact-me/</a></p>

    </section>


  <footer class="post-footer">


    

    





<section class="author">
  <h4><a href="https://benetis.me/">Žygimantas Benetis</a></h4>
  
  <p>Read <a href="https://benetis.me/">more posts</a> by this author.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Kaunas, Lithuania</span>
    <span class="author-link icon-link"><a href="https://benetis.me">https://benetis.me</a></span>
  </div>
</section>



    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=HTML5%20Canvas.%20Fundamentals&nbsp;-&nbsp;Typical%20personal%20blog&amp;url=https%3a%2f%2fbenetis.me%2fpost%2fhtml5-canvas-fundamentals%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fbenetis.me%2fpost%2fhtml5-canvas-fundamentals%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fbenetis.me%2fpost%2fhtml5-canvas-fundamentals%2f&amp;description=HTML5%20Canvas.%20Fundamentals"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=https%3a%2f%2fbenetis.me%2fpost%2fhtml5-canvas-fundamentals%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    




  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Typical personal blog</a> All rights reserved - 2017</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://benetis.me/js/jquery.js"></script>
    <script type="text/javascript" src="https://benetis.me/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://benetis.me/js/index.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/prism.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/components/prism-typescript.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/components/prism-haskell.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/components/prism-javascript.min.js"></script>
    
</body>
</html>

